<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="robots" content="noodp" />
        <title>数据库学习 - Just Do It</title><meta name="Description" content="This is my cool site"><meta property="og:title" content="数据库学习" />
<meta property="og:description" content="学习计划之05数据库 一、数据模型及数据库系统结构 1.层次模型
特点：
有且只有一个节点没有双亲节点，这个节点成为根节点； 根以外的其他节点有且只有一个双亲节点。 层次模型像一棵倒立的树，结点的双亲是唯一的。
优点：结构清晰；查询效率高；有良好的完整性支撑； 缺点：层次模型无法处理多对多的关系；无法处理一个结点有多个双亲节点的情况； 2 网状模型
特点：
允许一个以上的系欸但无双亲； 一个节点可以有多于一个的双亲。 网状模型的优缺点：
优点：
结点之间的联系可以有很多； 具有良好的性能，存取效率较高。 缺点：
结构比较复杂，当应用环境扩大，数据库的结构变得越来越复杂； 网状模型的DDL、DML复杂，并且要嵌入到某一种高级语言中，不好掌握，不容易使用； 应用程序在访问数据时必须选择适当的存取路径，因此必须了解系统结构的细节，加重了编写应用程序的负担。 3 关系模型
​	关系数据库是目前使用最广泛的数据库，其采用关系模型作为数据的组织方式。
关系：通常对应一张”表“； 元组：一行数据即为一个元组； 属性：表中的一列为一个属性； 码：通过码可以唯一确定一个元组； 域：具有相同数据类型的值的集合； 分量：元组中的一个属性值； ​	关系的操作包括查询、插入、删除和更新数据；关系的完成行约束包括三大类：实体完整性、参照完整性和用户定义的完整性。
4 数据库系统的三级模式结构
外模式：也称子模式或用户模式，是数据库用户（包括程序员和最终用户）能够看见和使用的局部数据的逻辑结构和特征的描述，是数据库用户的数据视图。一个数据库可以有多个外模式。 模式：也称逻辑模式，是数据库中全体数据的逻辑结构和特征的描述，是所有用户的公共数据视图。不涉及物理存储细节和硬件环境，也不与具体的应用程序、开发工具及程序设计语言有关。一个数据库只有一个模式。 内模式：也称存储模式，是物理结构和存储方式的描述，是数据在数据库内部的组织方式。 二、关系数据库 1.关系数据库结构及形式化定义
关系
​	关系模型的数据结构就是——关系，在用户看来就是一张二维表。关系模型是建立在集合代数的基础上的，因此这里丛集合论的角度给出关系话数据结构的一些定义。
（1）域：具有相同数据类型的值的结合。
（2）笛卡尔积：域上的一种集合运算。
举例：
D1 = {张， 王}；D2 = {计算机， 测绘}； D3 = {陕西， 北京， 安徽}
则D1，D2，D3的笛卡尔积为
D1✖D2✖D3 =
{ （张， 计算机， 陕西）， （张， 计算机， 北京），（张， 计算机， 安徽），" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://example.org/posts/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AD%A6%E4%B9%A0/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-08-08T10:20:29+08:00" />
<meta property="article:modified_time" content="2022-08-08T10:20:29+08:00" /><meta property="og:site_name" content="My cool site" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="数据库学习"/>
<meta name="twitter:description" content="学习计划之05数据库 一、数据模型及数据库系统结构 1.层次模型
特点：
有且只有一个节点没有双亲节点，这个节点成为根节点； 根以外的其他节点有且只有一个双亲节点。 层次模型像一棵倒立的树，结点的双亲是唯一的。
优点：结构清晰；查询效率高；有良好的完整性支撑； 缺点：层次模型无法处理多对多的关系；无法处理一个结点有多个双亲节点的情况； 2 网状模型
特点：
允许一个以上的系欸但无双亲； 一个节点可以有多于一个的双亲。 网状模型的优缺点：
优点：
结点之间的联系可以有很多； 具有良好的性能，存取效率较高。 缺点：
结构比较复杂，当应用环境扩大，数据库的结构变得越来越复杂； 网状模型的DDL、DML复杂，并且要嵌入到某一种高级语言中，不好掌握，不容易使用； 应用程序在访问数据时必须选择适当的存取路径，因此必须了解系统结构的细节，加重了编写应用程序的负担。 3 关系模型
​	关系数据库是目前使用最广泛的数据库，其采用关系模型作为数据的组织方式。
关系：通常对应一张”表“； 元组：一行数据即为一个元组； 属性：表中的一列为一个属性； 码：通过码可以唯一确定一个元组； 域：具有相同数据类型的值的集合； 分量：元组中的一个属性值； ​	关系的操作包括查询、插入、删除和更新数据；关系的完成行约束包括三大类：实体完整性、参照完整性和用户定义的完整性。
4 数据库系统的三级模式结构
外模式：也称子模式或用户模式，是数据库用户（包括程序员和最终用户）能够看见和使用的局部数据的逻辑结构和特征的描述，是数据库用户的数据视图。一个数据库可以有多个外模式。 模式：也称逻辑模式，是数据库中全体数据的逻辑结构和特征的描述，是所有用户的公共数据视图。不涉及物理存储细节和硬件环境，也不与具体的应用程序、开发工具及程序设计语言有关。一个数据库只有一个模式。 内模式：也称存储模式，是物理结构和存储方式的描述，是数据在数据库内部的组织方式。 二、关系数据库 1.关系数据库结构及形式化定义
关系
​	关系模型的数据结构就是——关系，在用户看来就是一张二维表。关系模型是建立在集合代数的基础上的，因此这里丛集合论的角度给出关系话数据结构的一些定义。
（1）域：具有相同数据类型的值的结合。
（2）笛卡尔积：域上的一种集合运算。
举例：
D1 = {张， 王}；D2 = {计算机， 测绘}； D3 = {陕西， 北京， 安徽}
则D1，D2，D3的笛卡尔积为
D1✖D2✖D3 =
{ （张， 计算机， 陕西）， （张， 计算机， 北京），（张， 计算机， 安徽），"/>
<meta name="application-name" content="Amos&#39;s blog">
<meta name="apple-mobile-web-app-title" content="Amos&#39;s blog"><meta name="theme-color" content="#ffffff"><meta name="msapplication-TileColor" content="#da532c"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><link rel="manifest" href="/site.webmanifest"><link rel="canonical" href="http://example.org/posts/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AD%A6%E4%B9%A0/" /><link rel="prev" href="http://example.org/posts/%E5%AD%A6%E4%B9%A0%E8%AE%A1%E5%88%92/" /><link rel="next" href="http://example.org/posts/jdbc/" /><link rel="stylesheet" href="/css/style.min.css"><link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
        <noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css"></noscript><link rel="preload" href="https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
        <noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css"></noscript><script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "headline": "数据库学习",
        "inLanguage": "en",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "http:\/\/example.org\/posts\/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AD%A6%E4%B9%A0\/"
        },"genre": "posts","wordcount":  417 ,
        "url": "http:\/\/example.org\/posts\/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AD%A6%E4%B9%A0\/","datePublished": "2022-08-08T10:20:29+08:00","dateModified": "2022-08-08T10:20:29+08:00","publisher": {
            "@type": "Organization",
            "name": ""},"author": {
                "@type": "Person",
                "name": "gqiang"
            },"description": ""
    }
    </script></head>
    <body data-header-desktop="fixed" data-header-mobile="auto"><script type="text/javascript">(window.localStorage && localStorage.getItem('theme') ? localStorage.getItem('theme') === 'dark' : ('auto' === 'auto' ? window.matchMedia('(prefers-color-scheme: dark)').matches : 'auto' === 'dark')) && document.body.setAttribute('theme', 'dark');</script>

        <div id="mask"></div><div class="wrapper"><header class="desktop" id="header-desktop">
    <div class="header-wrapper">
        <div class="header-title">
            <a href="/" title="Just Do It">Amos&#39;s blog</a>
        </div>
        <div class="menu">
            <div class="menu-inner"><a class="menu-item" href="/posts/"> Posts </a><a class="menu-item" href="/tags/"> Tags </a><a class="menu-item" href="/categories/"> Categories </a><span class="menu-item delimiter"></span><a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                    <i class="fas fa-adjust fa-fw" aria-hidden="true"></i>
                </a></div>
        </div>
    </div>
</header><header class="mobile" id="header-mobile">
    <div class="header-container">
        <div class="header-wrapper">
            <div class="header-title">
                <a href="/" title="Just Do It">Amos&#39;s blog</a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><a class="menu-item" href="/posts/" title="">Posts</a><a class="menu-item" href="/tags/" title="">Tags</a><a class="menu-item" href="/categories/" title="">Categories</a><a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                <i class="fas fa-adjust fa-fw" aria-hidden="true"></i>
            </a></div>
    </div>
</header><main class="main">
                <div class="container"><div class="toc" id="toc-auto">
            <h2 class="toc-title">Contents</h2>
            <div class="toc-content" id="toc-content-auto"></div>
        </div><article class="page single"><h1 class="single-title animate__animated animate__flipInX">数据库学习</h1><div class="post-meta">
            <div class="post-meta-line"><span class="post-author"><a href="/" title="Author" rel="author" class="author"><i class="fas fa-user-circle fa-fw" aria-hidden="true"></i>gqiang</a></span></div>
            <div class="post-meta-line"><i class="far fa-calendar-alt fa-fw" aria-hidden="true"></i>&nbsp;<time datetime="2022-08-08">2022-08-08</time>&nbsp;<i class="fas fa-pencil-alt fa-fw" aria-hidden="true"></i>&nbsp;417 words&nbsp;
                <i class="far fa-clock fa-fw" aria-hidden="true"></i>&nbsp;2 minutes&nbsp;</div>
        </div><div class="details toc" id="toc-static"  data-kept="">
                <div class="details-summary toc-title">
                    <span>Contents</span>
                    <span><i class="details-icon fas fa-angle-right" aria-hidden="true"></i></span>
                </div>
                <div class="details-content toc-content" id="toc-content-static"><nav id="TableOfContents">
  <ul>
    <li><a href="#一数据模型及数据库系统结构">一、数据模型及数据库系统结构</a></li>
    <li><a href="#二关系数据库">二、关系数据库</a></li>
    <li><a href="#三关系数据库标准语言sql">三、关系数据库标准语言SQL</a>
      <ul>
        <li><a href="#1数据定义">1.数据定义</a></li>
        <li><a href="#2数据查询">2.数据查询</a></li>
        <li><a href="#3数据更新">3.数据更新</a></li>
      </ul>
    </li>
    <li><a href="#四数据库完整性">四、数据库完整性</a></li>
    <li><a href="#五关系数据理论">五、关系数据理论</a></li>
    <li><a href="#1提出问题">1.提出问题</a></li>
    <li><a href="#2规范化">2.规范化</a>
      <ul>
        <li><a href="#21-1nf-第一范式">2.1 1NF 第一范式</a></li>
        <li><a href="#22--2nf第二范式">2.2  2NF第二范式</a></li>
        <li><a href="#23-3nf第三范式">2.3 3NF第三范式</a></li>
        <li><a href="#24-bcnf--巴克斯范式">2.4 BCNF  巴克斯范式</a></li>
        <li><a href="#25-多值依赖">2.5 多值依赖</a></li>
        <li><a href="#26-4nf-第四范式">2.6 4NF 第四范式</a></li>
        <li><a href="#27-5nf-第五范式">2.7 5NF 第五范式</a></li>
      </ul>
    </li>
    <li><a href="#六数据库设计">六、数据库设计</a>
      <ul>
        <li><a href="#数据库设计的步骤">数据库设计的步骤</a></li>
      </ul>
    </li>
  </ul>
</nav></div>
            </div><div class="content" id="content"><h1 id="学习计划之05数据库">学习计划之05数据库</h1>
<h2 id="一数据模型及数据库系统结构">一、数据模型及数据库系统结构</h2>
<p>1.层次模型</p>
<p>特点：</p>
<ol>
<li>有且只有一个节点没有双亲节点，这个节点成为根节点；</li>
<li>根以外的其他节点有且只有一个双亲节点。</li>
</ol>
<p>层次模型像一棵倒立的树，结点的双亲是唯一的。</p>
<ol>
<li>优点：结构清晰；查询效率高；有良好的完整性支撑；</li>
<li>缺点：层次模型无法处理多对多的关系；无法处理一个结点有多个双亲节点的情况；</li>
</ol>
<p>2 网状模型</p>
<p>特点：</p>
<ol>
<li>允许一个以上的系欸但无双亲；</li>
<li>一个节点可以有多于一个的双亲。</li>
</ol>
<p>网状模型的优缺点：</p>
<p>优点：</p>
<ol>
<li>结点之间的联系可以有很多；</li>
<li>具有良好的性能，存取效率较高。</li>
</ol>
<p>缺点：</p>
<ol>
<li>结构比较复杂，当应用环境扩大，数据库的结构变得越来越复杂；</li>
<li>网状模型的DDL、DML复杂，并且要嵌入到某一种高级语言中，不好掌握，不容易使用；</li>
<li>应用程序在访问数据时必须选择适当的存取路径，因此必须了解系统结构的细节，加重了编写应用程序的负担。</li>
</ol>
<p>3 关系模型</p>
<p>​	关系数据库是目前使用最广泛的数据库，其采用关系模型作为数据的组织方式。</p>
<ul>
<li>关系：通常对应一张”表“；</li>
<li>元组：一行数据即为一个元组；</li>
<li>属性：表中的一列为一个属性；</li>
<li>码：通过码可以唯一确定一个元组；</li>
<li>域：具有相同数据类型的值的集合；</li>
<li>分量：元组中的一个属性值；</li>
</ul>
<p>​	关系的操作包括查询、插入、删除和更新数据；关系的完成行约束包括三大类：实体完整性、参照完整性和用户定义的完整性。</p>
<p>4 数据库系统的三级模式结构</p>
<ol>
<li>外模式：也称子模式或用户模式，是数据库用户（包括程序员和最终用户）能够看见和使用的局部数据的逻辑结构和特征的描述，是数据库用户的数据视图。一个数据库可以有多个外模式。</li>
<li>模式：也称逻辑模式，是数据库中全体数据的逻辑结构和特征的描述，是所有用户的公共数据视图。不涉及物理存储细节和硬件环境，也不与具体的应用程序、开发工具及程序设计语言有关。一个数据库只有一个模式。</li>
<li>内模式：也称存储模式，是物理结构和存储方式的描述，是数据在数据库内部的组织方式。</li>
</ol>
<h2 id="二关系数据库">二、关系数据库</h2>
<p>1.关系数据库结构及形式化定义</p>
<p>关系</p>
<p>​	关系模型的数据结构就是——关系，在用户看来就是一张二维表。关系模型是建立在集合代数的基础上的，因此这里丛集合论的角度给出关系话数据结构的一些定义。</p>
<p>（1）域：具有相同数据类型的值的结合。</p>
<p>（2）笛卡尔积：域上的一种集合运算。</p>
<p>举例：</p>
<p>D1 = {张， 王}；D2 = {计算机， 测绘}； D3 = {陕西， 北京， 安徽}</p>
<p>则D1，D2，D3的笛卡尔积为</p>
<p><code>D1✖D2✖D3 =</code></p>
<p><code>{ （张， 计算机， 陕西）， （张， 计算机， 北京），（张， 计算机， 安徽），</code></p>
<p><code>（张， 测绘， 陕西）， （张， 测绘， 北京）， （张， 测绘， 安徽），</code></p>
<p><code>（王， 计算机， 陕西）， （王， 计算机， 北京）， （王， 计算机， 安徽），</code></p>
<p><code>（王， 测绘， 陕西）， （王， 测绘， 北京）， （王， 测绘， 安徽）}</code></p>
<p>（3）关系</p>
<p>​	D1×D2×&hellip;×Dn的子集叫做在域D1，D2, &hellip;, Dn上的关系。关系有三种类型：基本关系（基本表或基表）、查询表和视图表。</p>
<p>范式：关系满足的一般条件。</p>
<p>2.关系操作</p>
<p>2.1 关系的基本操作</p>
<p>​	常用的关系操作包括：查询、插入、删除、修改，其中查询包括：选择、投影、连接、除、并、交、差、笛卡尔积等</p>
<p>2.2 关系数据语言</p>
<p>​	结构化查询语言（SQL）</p>
<p>3.关系的完整性</p>
<p>​	实体完整性：若属性A是基本关系R的主属性，则A不能取空值。</p>
<p>​	参照完整性</p>
<p>​	用户定义的完整性</p>
<p>4.关系代数</p>
<p>​	传统计算：交、叉、并、笛卡尔积</p>
<p>​	专门的关系运算：选择、投影、连接、除</p>
<h2 id="三关系数据库标准语言sql">三、关系数据库标准语言SQL</h2>
<p>该部分内容已在另一文章中进行详细描述，本章中不再概述。</p>
<h3 id="1数据定义">1.数据定义</h3>
<p>定义模式</p>
<p>​	<code>CREATE SCHEMA &lt;模式名&gt; AUTHORIZATION &lt;用户名&gt;</code></p>
<p>定义基本表</p>
<p>​	<code>CREATE TABLE &lt;表名&gt; (&lt;列名&gt;&lt;数据类型&gt; [列级完整性约束条件]...)</code></p>
<p>修改基本表：</p>
<p>​	<code>ALTER TABLE &lt;表名&gt;</code></p>
<p>​	<code>[ADD [COLUMN] &lt;新列名&gt;&lt;数据类型&gt; [完整性约束]]</code></p>
<p>​	<code>[ADD &lt;表级完整性约束&gt;]</code></p>
<p>​	<code>[ADD [COLUMN] &lt;列名&gt; [CASCADE | RESTRICT]]</code></p>
<p>​	<code>... ...</code></p>
<p>删除基本表</p>
<p>​	 <code>DROP TABLE &lt;表名&gt; [RESTRICT | CASCADE] ;</code></p>
<p>索引的建立与删除</p>
<p>。。。</p>
<p>数据字典</p>
<p>。。。</p>
<h3 id="2数据查询">2.数据查询</h3>
<p>2.1 单表查询</p>
<p>​	<code>ORDER BY</code>子句</p>
<p>​	聚集函数（<code>COUNT ,SUN ,AVG ,MAX ,MIN</code> )</p>
<p>​	<code>GROUP BY</code>子句</p>
<p>2.2 连接查询</p>
<p>​	等值与非等值的查询</p>
<p>​	自身连接</p>
<p>​	外连接</p>
<p>​	多表连接</p>
<p>2.3 嵌套查询</p>
<p>​	使用 <code>IN</code> 作为谓词进行嵌套</p>
<p>2.4 集合查询</p>
<p>​	集合操作主要包括 并操作 UNION、交操作（INTERSECT）和差操作（EXCEPT）。</p>
<p>2.5 基于派生表的查询</p>
<h3 id="3数据更新">3.数据更新</h3>
<p>3.1 插入数据</p>
<p><code>INSERT INTO ... (VALUES) ...</code></p>
<p>3.2 修改数据</p>
<p>3.3删除数据</p>
<h2 id="四数据库完整性">四、数据库完整性</h2>
<p>1.实体完整性</p>
<p>2.参照完整性</p>
<p>3.用户定义的完整性</p>
<p>4.触发器</p>
<h2 id="五关系数据理论">五、关系数据理论</h2>
<h2 id="1提出问题">1.提出问题</h2>
<p>​	数据库范式主要是为解决关系数据库中<strong>数据冗余</strong>、<strong>更新异常</strong>、插入异常、<strong>删除异常问题</strong>而引入的设计理念。简单来说，数据库范式可以避免数据冗余，减少数据库的存储空间，并且减轻维护数据完整性的成本，是关系数据库核心的技术之一。</p>
<h2 id="2规范化">2.规范化</h2>
<p><strong>函数依赖</strong>：是指关系模式R的一切关系均要满足的约束条件。</p>
<p><strong>范式</strong>：关系数据库中的关系是要满足一定要求的，满足不同程度要求的为不同范式。</p>
<h3 id="21-1nf-第一范式">2.1 1NF 第一范式</h3>
<p>​	**1NF：**在一个二维表中，每个分量必须是不可分的数据项，满足这个条件的关系模式就属于第一范式，简称1NF。该属性主要强调属性的原子性约束，要求属性具有原子性，不可再分解。</p>
<p>​	<strong>存在问题</strong>：冗余度大，会引起修改操作的不一致性，数据插入异常，数据删除异常等。</p>
<h3 id="22--2nf第二范式">2.2  2NF第二范式</h3>
<p>​	<strong>2NF</strong>:在满足第一范式的情况下，且每一个非主属性完全依赖于任何一个候选码，则R属于第二范式。也就是强调记录的唯一性约束，数据表必须有一个主键，并且没有包含在主键中的列必须完全依赖于主键，而不能只依赖于主键的一部分。</p>
<h3 id="23-3nf第三范式">2.3 3NF第三范式</h3>
<p>​	<strong>3NF</strong>：强调数据属性冗余性的约束，也就是非主键列必须直接依赖于主键，也就是消除了非主属性对码的传递函数依赖。</p>
<p>​	说明：3NF肯定满足2NF，产生冗余和异常的两个重要原因是部分一俩和传递依赖，而3NF中不存在非主属性对码的部分函数依赖和传递函数依赖，性能比较好。1NF、2NF一般不适合违数据库模式，通常需要转换为3NF或者更高级别的范式，这种变换过程称为关系模式规范化处理。</p>
<h3 id="24-bcnf--巴克斯范式">2.4 BCNF  巴克斯范式</h3>
<p>​	属于修正的第三范式，是防止主键的某一列会依赖于主键的其他列，当3NF消除了主属性对码的部分函数依赖和传递函数依赖成为BCNF。</p>
<p>特性：</p>
<p>1.所有主属性对每一个码都是完全函数依赖</p>
<p>2.所有主属性对每一个不好含它的码，也是完全函数依赖</p>
<p>3.没有任何属性完全函数依赖于非码的任何一组属性</p>
<h3 id="25-多值依赖">2.5 多值依赖</h3>
<p>​	多值依赖属4NF的定义范围，比函数依赖要复杂得多。在关系模式中，函数依赖不能表示属性值之间的一对多联系，这些属性之间有些虽然没有直接关系，但存在间接的关系，把没有直接联系、但有间接的联系称为多值依赖的数据依赖。</p>
<p><strong>举例：</strong></p>
<p>​	有这样一个关系 &lt;仓库管理员，仓库号，库存产品号&gt; ，假设一个产品只能放到一个仓库中，但是一个仓库可以有若干管理员，那么对应于一个 &lt;仓库管理员，库存产品号&gt;有一个仓库号，而实际上，这个仓库号只与库存产品号有关，与管理员无关，就说这是多值依赖。</p>
<h3 id="26-4nf-第四范式">2.6 4NF 第四范式</h3>
<p><strong>4NF</strong>：是限制关系模式的属性间不允许有非平凡且非函数依赖的多值依赖。</p>
<p>说明：如果只考虑函数依赖，关系模式规范化程度最高的范式是BCNF；吐过考虑多值依赖则是4NF。</p>
<h3 id="27-5nf-第五范式">2.7 5NF 第五范式</h3>
<p>第五范式属于最终范式，消除了4NF中的连接依赖，5NF必须满足一下要求</p>
<p>1.必须满足第四范式</p>
<p>2.表必须可以分解为较小的表，除非那些表在逻辑上拥有于原始表相同的主键。</p>
<p>一般实际应用不考虑第五范式。</p>
<h2 id="六数据库设计">六、数据库设计</h2>
<p>本节内容参考</p>
<p>[https://blog.csdn.net/A642960662/article/details/123143277]:</p>
<h3 id="数据库设计的步骤">数据库设计的步骤</h3>
<ul>
<li>
<p>需求分析阶段</p>
<p>​	需求分析的任务：对现实世界要处理的对象进行详细的调查，通过对原系统的了解，收集支持新系统的基础数据并对其进行处理，在此基础上确定新系统的功能。</p>
<p>A、调查分析用户活动</p>
<p>B、收集和分析需求数据，确定系统边界信息需求，处理需求，安全性和完整性需求</p>
<p>C、编写系统分析报告</p>
</li>
<li>
<p>概念设计阶段</p>
<p>​	概念结构设计的目标是设计数据库的E-R模型图，确认需求信息的正确和完整。具体来说就是从需求分析中找到实体，确认实体的属性、确认实体的关系，画出ER图。</p>
<p><strong>第一步，数据抽象与局部E-R模型设计</strong></p>
<p>A、数据抽象</p>
<p>​	在多层数据流中选择一个适当层次作为设计E-R图的出发点。</p>
<p>​	确定每个局部应用包含哪些实体，实体包含哪些属性，实体之间的联系</p>
<p>划分实体和属性的方法</p>
<p>​	分类：将一组具有某些共同特性和行为的对象抽象为一个实体。</p>
<p>​	聚合：将对象类型的组成成分抽象为属性。</p>
<p>B、局部E-R模型设计</p>
<p>​	局部E-R模型设计的原则是属性必须是不可分的数据项，不能再由放弃其他属性组成；属性不能与其他实体具有联系，联系只能发生在实体之间。</p>
<p>为简化E-R图，凡是能作为属性对待的，尽量作为属性。</p>
<p><strong>第二步，全局E-R模型设计</strong></p>
<p>​	集成各局部E-R模型，形成全局模型。视图集成的方法有两种：</p>
<p>A、多元集成法：一次性将多个局部E-R图合并为一个全局E-R图。</p>
<p>B、二元集成法：首先集成两个重要的局部E-R图，然后用累加的方法逐步将一个新的E-R图集成进来。</p>
<p>​	合并：合并局部E-R图，消除冲突，初步生成E-R图。合并的关键是合理消除各局部E-R图的冲突。</p>
</li>
<li>
<p>逻辑设计阶段</p>
<p>​	逻辑结构设计的任务是将概念结构设计阶段完成的实体模型转换成特定的DBMS所支持的数据模型的过程。逻辑结构设计的目的是将E-R图中的实体、属性和联系转换成为关系模式。</p>
<p>1.初始关系模型设计</p>
<p>（1）实体间关系转换遵循的原则：</p>
<p>​	一个实体转换为一个关系模式，实体的属性就是关系的属性，实体的键就是关系的键。</p>
<p>​	一个联系转换为一个关系模式，与该联系相连的各实体的键以及联系的属性均转换为该关系的属性。</p>
<p>​	联系关系的键有三种情况：</p>
<p>​	如果联系为1:1，则每个实体的键都是关系的候选键</p>
<p>​	如果联系为1：n，zen端实体的见识关系的键</p>
<p>​	如果联系为n:m，则各实体的键的组合是关系的键</p>
<p>​	特殊情况：多元联系</p>
<p>​	多元联系在转换为关系模式时，与该多元联系相连的各实体的主键及联系本身的属性均转换为关系的属性，转换后所得到的的关系的主键为各实体键的组合</p>
<p>（2）实体间关系的转换规则：</p>
<p>A、一个1:1关系可以转换为一个独立的关系模式，也可以与任意一端所对应的关系模式合并。</p>
<p>B、一个1:n关系可以转换为一个独立的关系模式，也可以与n端所对应的关系模式合并。</p>
<p>C、一个m:n关系转换为一个关系模式。转换的方法为：与该关系相连的各实体的码以及关系本身的属性均转换为关系的属性，新关系的码为两个相连实体码的组合。</p>
<p>D、三个或三个以上实体间的多元关系转换为一个关系模式。</p>
<p>2.关系模式规范化</p>
<p>​	应用数据库设计的范式理论对初始关系模型进行优化。数据库设计的三大范式如下：</p>
<p>​	第一范式 每一个分类必须是一个不可分的数据项。属性不可再分，确保每列的原子性。</p>
<p>​	第二范式 要求每个表只描述一件事情，每条记录有唯一标识列。</p>
<p>​	第三范式 数据库表中不包含已在其它表中已包含的非主关键字信息。</p>
<p>​	关系模式的规范化过程如下：</p>
<p>A、确定范式级别</p>
<p>​	考察关系模式的函数依赖关系，确定范式等级。</p>
<p>B、实施规范化处理</p>
<p>​	利用规范化方法和理论将关系模式规范化。</p>
<p>C、模式改进</p>
<p>​	合并：将用于关联查询的具有相同主键的各表合并可提高查询效率</p>
<p>​	分解：水平分解，将关系的元组分为若干子集，提高查询效率；垂直分解，把关系中经常一起使用的属性分解出来，形成一个子关系，提高执行效率。分解时要保持无损连接和函数依赖。</p>
</li>
<li>
<p>物理设计阶段</p>
<p>​	物理结构设计：对于给定的逻辑数据模型，选取一个最适合应用环境的物理结构。数据库的物理结构设计分为两步：</p>
<p>A、确定物理结构：存取方法和存储结构</p>
<p>B、评价物理结构：评价重点是时间和空间效率</p>
<p>​	根据具体的数据库管理系统所提供的多种存储结构和存取方法等依赖于具体计算机结构的各项物理设计措施，对具体的应用任务选定最合适的物理存储结构(数据类型 索引 主键)。</p>
<p>1.确定物理结构</p>
<p>（1）存储结构的设计</p>
<p>​	物理结构中，数据的基本存取单位是存储记录。</p>
<p>​	某一类型的所有存储记录的集合称为文件。</p>
<p>​	确定数据库存储结构时要综合考虑存取时间、存储空间利用率和维护代价三方面的因素。例如消除一切冗余数据虽然能够节约存储空间，但往往会导致检索代价的增加，因此必须进行权衡，选择一个折中方案。</p>
<p>（2）数据存取路径的设计</p>
<p>​	在关系数据库中，选择存取路径主要是指确定如何建立索引。例如，应把哪些域作为次码建立次索引，建立单码索引还是组合索引，建立多少个为合适，是否建立聚集索引等。</p>
<p>（3）数据存放位置的设计</p>
<p>​	为了提高性能，可将数据的易变部分、稳定部分、经常存取部分和存储频率较低部分分开存放。</p>
<p>（4）系统配置的设计</p>
<p>​	DBMS产品一般都提供了一些存储分配参数，供设计人员和DBA对数据库进行物理优化。初始情况下，系统都为这些变量赋予了合理的缺省值，但是这些值不一定适合每一种应用环境，在进行物理设计时，需要重新对这些变量赋值以改善系统的性能。
2、评价物理结构</p>
<p>​	物理结构设计过程中需要对时间效率、空间效率、维护代价和各种用户要求进行权衡，其结果可以产生多种方案，数据库设计人员必须对方案进行细致的评价，从中选择一个较优的方案作为数据库的物理结构。
​	评价物理数据库的方法完全依赖于所选用的DBMS，主要是从定量估算各种方案的存储空间、存取时间和维护代价入手，对估算结果进行权衡、比较，选择出一个较优的合理的物理结构。</p>
</li>
<li>
<p>数据库实施</p>
<p>​	数据库实施：指根据逻辑设计和物理设计的结果，在计算机上建立起实际的数据库结构、装入数据、进行测试和试运行的过程。</p>
</li>
<li>
<p>数据库运行和维护</p>
<p>​	数据库运行与维护的主要任务包括：</p>
<p>A、维护数据库的安全性与完整性</p>
<p>B、监测并改善数据库性能</p>
<p>C、重新组织和构造数据库</p>
<p>​	只有数据库系统在运行，就需要不断地进行修改、调整和维护。</p>
</li>
</ul>
</div><div class="post-footer" id="post-footer">
    <div class="post-info">
        <div class="post-info-line">
            <div class="post-info-mod">
                <span>Updated on 2022-08-08</span>
            </div></div>
        <div class="post-info-line">
            <div class="post-info-md"></div>
            <div class="post-info-share">
                <span><a href="javascript:void(0);" title="Share on Twitter" data-sharer="twitter" data-url="http://example.org/posts/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AD%A6%E4%B9%A0/" data-title="数据库学习"><i class="fab fa-twitter fa-fw" aria-hidden="true"></i></a><a href="javascript:void(0);" title="Share on Facebook" data-sharer="facebook" data-url="http://example.org/posts/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AD%A6%E4%B9%A0/"><i class="fab fa-facebook-square fa-fw" aria-hidden="true"></i></a><a href="javascript:void(0);" title="Share on Hacker News" data-sharer="hackernews" data-url="http://example.org/posts/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AD%A6%E4%B9%A0/" data-title="数据库学习"><i class="fab fa-hacker-news fa-fw" aria-hidden="true"></i></a><a href="javascript:void(0);" title="Share on Line" data-sharer="line" data-url="http://example.org/posts/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AD%A6%E4%B9%A0/" data-title="数据库学习"><i data-svg-src="https://cdn.jsdelivr.net/npm/simple-icons@7.3.0/icons/line.svg" aria-hidden="true"></i></a><a href="javascript:void(0);" title="Share on 微博" data-sharer="weibo" data-url="http://example.org/posts/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AD%A6%E4%B9%A0/" data-title="数据库学习"><i class="fab fa-weibo fa-fw" aria-hidden="true"></i></a></span>
            </div>
        </div>
    </div>

    <div class="post-info-more">
        <section class="post-tags"></section>
        <section>
            <span><a href="javascript:void(0);" onclick="window.history.back();">Back</a></span>&nbsp;|&nbsp;<span><a href="/">Home</a></span>
        </section>
    </div>

    <div class="post-nav"><a href="/posts/%E5%AD%A6%E4%B9%A0%E8%AE%A1%E5%88%92/" class="prev" rel="prev" title="学习计划"><i class="fas fa-angle-left fa-fw" aria-hidden="true"></i>学习计划</a>
            <a href="/posts/jdbc/" class="next" rel="next" title="JDBC">JDBC<i class="fas fa-angle-right fa-fw" aria-hidden="true"></i></a></div>
</div>
</article></div>
            </main><footer class="footer">
        <div class="footer-container"><div class="footer-line">Powered by <a href="https://gohugo.io/" target="_blank" rel="noopener noreffer" title="Hugo 0.101.0">Hugo</a> | Theme - <a href="https://github.com/dillonzq/LoveIt" target="_blank" rel="noopener noreffer" title="LoveIt 0.2.11"><i class="far fa-kiss-wink-heart fa-fw" aria-hidden="true"></i> LoveIt</a>
                </div><div class="footer-line" itemscope itemtype="http://schema.org/CreativeWork"><i class="far fa-copyright fa-fw" aria-hidden="true"></i><span itemprop="copyrightYear">2022</span><span class="author" itemprop="copyrightHolder">&nbsp;<a href="/" target="_blank">gqiang</a></span></div>
        </div>
    </footer></div>

        <div id="fixed-buttons"><a href="#" id="back-to-top" class="fixed-button" title="Back to Top">
                <i class="fas fa-arrow-up fa-fw" aria-hidden="true"></i>
            </a><a href="#" id="view-comments" class="fixed-button" title="View Comments">
                <i class="fas fa-comment fa-fw" aria-hidden="true"></i>
            </a>
        </div><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lazysizes@5.3.2/lazysizes.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/clipboard@2.0.11/dist/clipboard.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/sharer.js@0.5.1/sharer.min.js"></script><script type="text/javascript">window.config={"code":{"copyTitle":"Copy to clipboard","maxShownLines":50},"comment":{}};</script><script type="text/javascript" src="/js/theme.min.js"></script></body>
</html>
